LAYER
    NAME 'roads'
    TYPE LINE
    TEMPLATE fooOnlyForWMSGetFeatureInfo # For GetFeatureInfo
    EXTENT 5 45 11 48
    CONNECTIONTYPE postgis
    PROCESSING "CLOSE_CONNECTION=DEFER" # For performance
    CONNECTION "user=docker password=docker dbname=gis host=db"
    DATA "geometry FROM (SELECT * FROM osm_roads) AS foo USING UNIQUE osm_id USING srid=4326"
    METADATA
        "wms_title" "roads" # For WMS
        "wms_srs" "EPSG:4326" # For WMS

        "wfs_enable_request" "*" # Enable WFS for this layer
        "gml_include_items" "all" # For GetFeatureInfo and WFS GetFeature (QueryBuilder)
        "ows_geom_type" "polygon" # For returning geometries in GetFeatureInfo
        "ows_geometries" "MultiPolygon" # For returning geometries in GetFeatureInfo
        "wfs_featureid" "id"

        "wms_metadataurl_href" "http://www.example.com/bar" # For metadata URL
        "wms_metadataurl_format" "text/html" # For metadata URL
        "wms_metadataurl_type" "TC211" # For metadata URL
    END
    STATUS ON
    PROJECTION
        "init=epsg:4326"
    END
    COMPOSITE
        OPACITY 50
    END
    CLASS
        NAME "roads"
        STYLE
            COLOR 0 255 0
            #OUTLINECOLOR 128 128 128
        END
    END
END
